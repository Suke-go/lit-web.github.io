# 無料体験予約フォーム 設定チェックリスト

実運用に入る前に、以下を **担当者が手作業で設定・確認** してください。AI や自動処理では値を決められないため、必ず人間が判断して埋めます。

---

## 1. Google Apps Script 側

- [ ] `gas/reservation.gs` の定数を実環境の値に差し替える  
  - `AVAIL_CAL_ID`：スタッフが空き枠を登録するカレンダーの ID  
  - `BOOK_CAL_ID`：予約確定イベントを書き込むカレンダーの ID  
  - `RESP_SHEET_ID`：ログを保存するスプレッドシート ID  
  - `PRODUCTION_ORIGIN`：フォームを埋め込む本番サイトのドメイン（例 `https://careercoaching.litable-edu.com`）  
  - `STAFF_TABLE`：担当スタッフのメールアドレス（必要に応じて追加）  
  - 電話対応のトーン＆マナーに合わせて、`sendConfirmMail` 内の「電話希望」メッセージや連絡先を調整する  

- [ ] Apps Script の **高度なサービス** で「Calendar API」を有効化  
- [ ] プロジェクトの「サービス」から Google Cloud の Calendar API も有効化  
- [ ] デプロイ（新しいデプロイ → ウェブアプリ）し、誰がアクセスできるかを本番の公開範囲に合わせて設定  

## 2. LP（index.html）側

- [ ] `<section id="trialReserveSection">` の `data-gas-endpoint` 属性に、上記でデプロイした Web App URL (`https://script.google.com/macros/s/xxxxx/exec`) を設定  
- [ ] ヘッダーナビの「無料体験予約」リンクが正しくスクロールするか確認  
- [ ] 新しいセクション用のスタイル（`lp01/common/css/override.css`）が意図通りに反映されるか確認  
- [ ] PC では 1 週間分のカード、スマホでは横スクロールで日別カードが表示されることを確認  

## 3. テストフロー

1. GAS のデプロイ ID をテスト用に設定し、LP をローカルで表示  
2. 枠が表示されるか、予約成功時・埋まった場合・通信エラー時のメッセージをそれぞれ確認  
3. 「オンライン（Google Meet）」と「電話」を切り替えて予約し、カレンダー／メールの文面が意図通りに変わるか確認  
4. Google カレンダー・スプレッドシート・メール通知（ユーザー／スタッフ）に想定通り連携されるか確認  
5. 本番公開前に `PRODUCTION_ORIGIN` がプレースホルダーのままになっていないか再確認  

## 4. 運用メモ

- スプレッドシートの `reservations` シートは存在しない場合、自動で作成され初回行にヘッダが入ります（`contactMethod` 列が追加されています）。不要なら列名だけ編集し、1 行目は残してください。  
- 空き枠は `[available ...]` 形式のタイトルでカレンダーに登録してください。担当者名を `,` 区切りで書くとランダムで割り当てられます。  
- Meet リンク生成には数秒かかる場合があるため、連打防止のためボタン disabled 制御が入っています。  
- 予約確定メール・埋まりメールの文面、および電話希望時の案内テキストは `sendConfirmMail` / `sendSorryMail` 内を編集してください。  
- 電話希望が多い場合は、カレンダーイベントの説明欄（`createBookedEventWithStaff`）や社内共有のフローも合わせて見直してください。  

---

疑問点や追加調整があれば、このファイルに追記して運用ノートとして活用してください。
